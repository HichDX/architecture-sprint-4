# Мотивация

* Добавление мониторинга в систему является критически важным шагом для обеспечения стабильности и производительности бизнеса. С учетом того, что оформление заказов через API стало основным каналом взаимодействия с клиентами, необходимо иметь полное представление о состоянии системы. 
    
* Мониторинг позволит:
    + Выявлять узкие места: С помощью мониторинга можно быстро обнаруживать проблемы с производительностью, такие как задержки в обработке заказов или сбои в API, что позволит оперативно реагировать на них.
    + Улучшить пользовательский опыт: Понимание того, как пользователи взаимодействуют с системой, поможет оптимизировать процессы и повысить удовлетворенность клиентов.
    + Поддерживать репутацию компании: Своевременное выявление и устранение проблем поможет избежать негативных отзывов и сохранить контракты с партнерами.
    + Обосновывать инвестиции: Наличие данных о производительности системы поможет обосновать необходимость выделения ресурсов на улучшение инфраструктуры и процессов.

# Выбор подхода к мониторингу

* Для мониторинга системы будет использоваться подход «Четыре золотых сигнала», который включает в себя:

   + Состояние: Как система работает в данный момент?
   + Производительность: Как система справляется с нагрузкой?
   + Надежность: Как часто система выходит из строя?
   + Изменения: Как изменения в коде или инфраструктуре влияют на работу системы?

Этот подход позволит получить полное представление о состоянии системы и выявить потенциальные проблемы.

# Метрики
    
* Вот список метрик, которые будут отслеживаться:
   + Number of requests (RPS) for internet shop API
      - Зачем нужна эта метрика: Позволяет отслеживать нагрузку на API интернет-магазина и выявлять пики активности.
      - Ярлыки: endpoint, user_type (например, guest, registered).

   + Response time (latency) for shop API
      - Зачем нужна эта метрика: Позволяет измерять время отклика API, что критично для пользовательского опыта.
      - Ярлыки: endpoint, method (например, GET, POST).

   + Number of HTTP 500 for shop API
      - Зачем нужна эта метрика: Позволяет отслеживать количество ошибок сервера, что указывает на проблемы в системе.
      - Ярлыки: endpoint, error_type.

   + CPU % for shop API
      - Зачем нужна эта метрика: Позволяет отслеживать загрузку процессора, что поможет выявить проблемы с производительностью.
      - Ярлыки: instance_type (например, production, staging).
    
   + Memory Utilisation for shop db instance
      - Зачем нужна эта метрика: Позволяет отслеживать использование памяти базой данных, что критично для производительности.
      - Ярлыки: db_type (например, read, write).
    
   + Number of dead-letter-exchange letters in RabbitMQ
      - Зачем нужна эта метрика: Позволяет отслеживать количество сообщений, которые не удалось обработать, что указывает на проблемы в очередях.
      - Ярлыки: queue_name, error_type.
    
   + Number of simultaneous sessions for shop API
      - Зачем нужна эта метрика: Позволяет отслеживать количество активных сессий, что поможет понять нагрузку на систему.
      - Ярлыки: user_type, session_duration.

Эти метрики помогут создать полное представление о состоянии системы и выявить потенциальные проблемы, что в свою очередь позволит улучшить производительность и удовлетворенность клиентов.

# План действий

Для успешной реализации мониторинга системы необходимо выполнить следующие высокоуровневые задачи:

* Определение требований к мониторингу:
   + Провести встречу с ключевыми заинтересованными сторонами для сбора требований к метрикам и отчетам.
   + Согласовать список метрик, которые будут отслеживаться, и их важность для бизнеса.

* Выбор и настройка инструментов мониторинга:
   + Исследовать и выбрать подходящие инструменты для мониторинга.
   + Настроить интеграцию выбранных инструментов с существующими системами и API.

* Создание инстанса time-series базы данных:
   + Создать инстанс базы данных для хранения временных рядов.
   + Настроить автоматическое сохранение метрик в базе данных.

* Разработка и внедрение агентов мониторинга:
   + Разработать или настроить существующие агенты для сбора метрик с различных компонентов системы.
   + Обеспечить корректную передачу данных в систему мониторинга.

* Настройка алертов и уведомлений:
   + Определить пороговые значения для ключевых метрик и настроить алерты для уведомления команды о потенциальных проблемах.
   + Настроить интеграцию с системами уведомлений для оперативного реагирования.

* Тестирование и валидация системы мониторинга:
   + Провести тестирование системы мониторинга, чтобы убедиться в корректности сбора и отображения метрик.
   + Валидация работы алертов и уведомлений.

* Обучение команды:
   + Провести обучение для команды по использованию инструментов мониторинга и интерпретации данных.
   + Обсудить процесс реагирования на алерты и управление инцидентами.
